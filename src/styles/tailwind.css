/* tailwind base import and overrides */
@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  color-scheme: dark;
}

html, body, #root {
  height: 100%;
}

/* Moroccan-inspired subtle background and card styling */
@layer components {
  .maroc-section {
    position: relative;
  }
  .maroc-section::before {
    content: "";
    position: absolute;
    inset: 0;
    pointer-events: none;
    background:
      radial-gradient(1000px 500px at 10% 0%, rgba(234, 88, 12, 0.08), transparent 70%),
      radial-gradient(800px 400px at 90% 0%, rgba(234, 88, 12, 0.06), transparent 70%),
      repeating-conic-gradient(from 45deg, rgba(255,255,255,0.03) 0deg 6deg, transparent 6deg 18deg);
    background-size: auto, auto, 18px 18px;
    background-blend-mode: overlay;
    mask-image: linear-gradient(to bottom, rgba(0,0,0,0.8), rgba(0,0,0,0.3) 40%, rgba(0,0,0,0));
  }

  .maroc-card {
    position: relative;
    border-radius: 0.85rem;
    background-color: rgba(12, 12, 16, 0.8);
    border: 1px solid rgba(255, 255, 255, 0.08);
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.05), 0 10px 30px rgba(0,0,0,0.35);
    transition: transform 220ms cubic-bezier(0.2, 0.8, 0.2, 1), border-color 220ms ease, box-shadow 220ms ease, filter 220ms ease;
  }
  .maroc-card:hover {
    transform: translateY(-2px);
    border-color: rgba(234, 88, 12, 0.35);
    /* Más luz y grosor alrededor en hover */
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.06),
                0 0 0 2px rgba(234, 88, 12, 0.35),
                0 18px 48px rgba(234, 88, 12, 0.22),
                0 12px 35px rgba(0, 0, 0, 0.40);
  }

  /* Decorative corner strokes */
  .maroc-card::before,
  .maroc-card::after {
    content: "";
    position: absolute;
    width: 16px;
    height: 16px;
    border-color: rgba(234, 88, 12, 0.25);
    pointer-events: none;
  }
  .maroc-card::before {
    top: -1px; left: -1px;
    border-top: 1px solid; border-left: 1px solid;
    border-top-left-radius: 0.7rem;
  }
  .maroc-card::after {
    bottom: -1px; right: -1px;
    border-bottom: 1px solid; border-right: 1px solid;
    border-bottom-right-radius: 0.7rem;
  }

  /* Ornament divider used under headings */
  .maroc-ornament { display: flex; align-items: center; justify-content: center; gap: .5rem; }
  .maroc-ornament .line { height: 1px; flex: 1 1 0; background: linear-gradient(90deg, transparent, rgba(255,255,255,0.15), transparent); }
  .maroc-ornament .diamond { width: 8px; height: 8px; background: rgb(234, 88, 12); transform: rotate(45deg); box-shadow: 0 0 0 2px rgba(234, 88, 12, 0.35); }

  /* Floating ornaments base */
  .leaf, .ornament {
    position: absolute;
    width: 72px;
    height: 72px;
    opacity: 0.16;
    filter: drop-shadow(0 8px 16px rgba(0,0,0,0.25));
    will-change: transform;
    user-select: none;
  }
  .leaf--light, .ornament--light { opacity: 0.12; }
  .leaf--bright, .ornament--bright { opacity: 0.22; }
  .onion { width: 80px; height: 80px; }
  .pepper { width: 72px; height: 72px; }
  .ornament-wrap {
    position: absolute;
    opacity: 0;
    will-change: transform, opacity;
    pointer-events: none;
  }
}

/* Reveal animations and ornament motion */
@layer utilities {
  @keyframes fade-up {
    from { opacity: 0; transform: translateY(10px) scale(0.98); }
    to   { opacity: 1; transform: translateY(0) scale(1); }
  }
  .reveal { opacity: 0; transform: translateY(10px) scale(0.98); }
  .reveal-visible { animation: fade-up 600ms cubic-bezier(0.16, 1, 0.3, 1) forwards; }

  @keyframes leaf-drift {
    0%   { transform: translate3d(var(--x, 0), var(--y, 0), 0) rotate(var(--r, 0deg)); }
    50%  { transform: translate3d(calc(var(--x, 0) + 20px), calc(var(--y, 0) - 20px), 0) rotate(calc(var(--r, 0deg) + 6deg)); }
    100% { transform: translate3d(calc(var(--x, 0) + var(--ex, 40px)), calc(var(--y, 0) - 40px), 0) rotate(calc(var(--r, 0deg) + 14deg)); }
  }
  .animate-leaf { animation: leaf-drift var(--dur, 16s) ease-in-out infinite alternate; }

  /* Generic float+sway for PNG ornaments (tomatoes, fork, lobster) */
  @keyframes float-sway {
    0%   { transform: translate3d(var(--x, 0), var(--y, 0), 0) rotate(var(--r, 0deg)); }
    50%  { transform: translate3d(calc(var(--x, 0) + var(--ampX, 12px)), calc(var(--y, 0) - var(--ampY, 12px)), 0) rotate(calc(var(--r, 0deg) + var(--spin, 4deg))); }
    100% { transform: translate3d(var(--x, 0), var(--y, 0), 0) rotate(var(--r, 0deg)); }
  }
  .animate-float { animation: float-sway var(--dur, 18s) ease-in-out infinite; }

  /* Side entrance helpers */
  @keyframes side-enter-left {
    0%   { opacity: 0; transform: translate3d(-48px, 0, 0) scale(0.98); }
    100% { opacity: 1; transform: translate3d(0, 0, 0) scale(1); }
  }
  @keyframes side-enter-right {
    0%   { opacity: 0; transform: translate3d(48px, 0, 0) scale(0.98); }
    100% { opacity: 1; transform: translate3d(0, 0, 0) scale(1); }
  }
  .enter-left { animation: side-enter-left 800ms cubic-bezier(0.22, 1, 0.36, 1) var(--enterDelay, 0ms) forwards; }
  .enter-right { animation: side-enter-right 800ms cubic-bezier(0.22, 1, 0.36, 1) var(--enterDelay, 0ms) forwards; }

  /* Variantes suaves para entradas laterales (usadas por tarjetas) */
  .enter-left-soft { animation: side-enter-left 900ms cubic-bezier(0.16, 1, 0.3, 1) var(--enterDelay, 0ms) forwards; }
  .enter-right-soft { animation: side-enter-right 900ms cubic-bezier(0.16, 1, 0.3, 1) var(--enterDelay, 0ms) forwards; }

  /* Variantes elásticas con ligero overshoot */
  @keyframes side-enter-left-elastic {
    0%   { opacity: 0; transform: translate3d(-48px, 0, 0) scale(0.98); }
    60%  { opacity: 1; transform: translate3d(6px, 0, 0) scale(1.02); }
    100% { opacity: 1; transform: translate3d(0, 0, 0) scale(1); }
  }
  @keyframes side-enter-right-elastic {
    0%   { opacity: 0; transform: translate3d(48px, 0, 0) scale(0.98); }
    60%  { opacity: 1; transform: translate3d(-6px, 0, 0) scale(1.02); }
    100% { opacity: 1; transform: translate3d(0, 0, 0) scale(1); }
  }
  .enter-left-elastic { animation: side-enter-left-elastic 900ms cubic-bezier(0.22, 1, 0.36, 1) var(--enterDelay, 0ms) forwards; }
  .enter-right-elastic { animation: side-enter-right-elastic 900ms cubic-bezier(0.22, 1, 0.36, 1) var(--enterDelay, 0ms) forwards; }

  /* Float para tarjetas: amplitud configurable por variable */
  .card-float { 
    animation: card-float-updown var(--cardDur, 10s) ease-in-out var(--cardDelay, 0ms) infinite alternate; 
    will-change: transform; 
    /* Luz detrás de las tarjetas */
    filter: drop-shadow(0 10px 28px rgba(234, 88, 12, 0.16)) drop-shadow(0 8px 24px rgba(0,0,0,0.35));
    transition: filter 220ms ease;
  }
  .card-float:hover {
    /* Aumenta el brillo al pasar */
    filter: drop-shadow(0 14px 44px rgba(234, 88, 12, 0.28)) drop-shadow(0 12px 32px rgba(0,0,0,0.45));
  }
}

/* Additional motion for onion rings and peppers */
@layer utilities {
  @keyframes onion-spin {
    0%   { transform: translate3d(var(--x, 0), var(--y, 0), 0) rotate(0deg); }
    100% { transform: translate3d(var(--x, 0), var(--y, 0), 0) rotate(360deg); }
  }
  /* Renamed to avoid collision with onion float class */
  .animate-onion-spin { animation: onion-spin var(--dur, 24s) linear infinite; }

  @keyframes pepper-bob {
    0%   { transform: translate3d(var(--x, 0), var(--y, 0), 0) rotate(var(--r, 0deg)); }
    50%  { transform: translate3d(calc(var(--x, 0) + var(--px, 10px)), calc(var(--y, 0) - var(--bob, 12px)), 0) rotate(calc(var(--r, 0deg) + var(--rw, 6deg))); }
    100% { transform: translate3d(var(--x, 0), var(--y, 0), 0) rotate(var(--r, 0deg)); }
  }
  .animate-pepper { animation: pepper-bob var(--dur, 18s) ease-in-out infinite alternate; }
}

/* Ornament utilities */
@layer utilities {
  .maroc-section { position: relative; }
  .ornament-wrap { position: absolute; opacity: 0; transform: translate3d(0,0,0); backface-visibility: hidden; }
  .ornament-wrap.enter-left { animation: enterLeft 900ms ease-out forwards var(--enterDelay, 0ms); }
  .ornament-wrap.enter-right { animation: enterRight 900ms ease-out forwards var(--enterDelay, 0ms); }
  .ornament-wrap.travel-right-center { animation: travel-right-center var(--travelDur, 4200ms) cubic-bezier(0.22, 1, 0.36, 1) var(--enterDelay, 0ms) forwards; }
  .ornament-wrap.travel-left-center { animation: travel-left-center var(--travelDur, 4000ms) cubic-bezier(0.22, 1, 0.36, 1) var(--enterDelay, 0ms) forwards; }

  .ornament { position: absolute; opacity: 0.22; transform: translateZ(0); will-change: transform; }
  .leaf, .ornament { opacity: 0.22; }
  .leaf--light, .ornament--light { opacity: 0.18; }
  .leaf--bright, .ornament--bright { opacity: 0.35; }

  .ornament--float { animation: floatUpDown var(--floatDur, 9s) ease-in-out var(--floatDelay, 0ms) infinite alternate; }
}

/* Keyframes */
@keyframes enterLeft {
  0% { opacity: 0; transform: translate3d(-60px,0,0); }
  100% { opacity: 1; transform: translate3d(0,0,0); }
}

@keyframes enterRight {
  0% { opacity: 0; transform: translate3d(60px,0,0); }
  100% { opacity: 1; transform: translate3d(0,0,0); }
}

@keyframes travelRightCenter {
  0% { opacity: 0; transform: translate3d(80px,-10px,0); }
  100% { opacity: 1; transform: translate3d(0,0,0); }
}

@keyframes travelLeftCenter {
  0% { opacity: 0; transform: translate3d(-80px,-10px,0); }
  100% { opacity: 1; transform: translate3d(0,0,0); }
}

@keyframes floatUpDown {
  0% { transform: translate3d(0,-6px,0); }
  100% { transform: translate3d(0,6px,0); }
}

/* Nueva variante para tarjetas con amplitud variable */
@keyframes card-float-updown {
  0% { transform: translate3d(0, calc(-1 * var(--cardAmp, 10px)), 0); }
  100% { transform: translate3d(0, var(--cardAmp, 10px), 0); }
}

@keyframes enterRight {
  0% { opacity: 0; transform: translate3d(60px,0,0); }
  100% { opacity: 1; transform: translate3d(0,0,0); }
}

@keyframes travelRightCenter {
  0% { opacity: 0; transform: translate3d(80px,-10px,0); }
  100% { opacity: 1; transform: translate3d(0,0,0); }
}

@keyframes travelLeftCenter {
  0% { opacity: 0; transform: translate3d(-80px,-10px,0); }
  100% { opacity: 1; transform: translate3d(0,0,0); }
}

@keyframes floatUpDown {
  0% { transform: translate3d(0,-6px,0); }
  100% { transform: translate3d(0,6px,0); }
}

/* Edge enter animations: ornaments start outside and slide to border */
@keyframes edge-enter-left {
  0% { transform: translateX(-16vw); opacity: 0; }
  60% { opacity: 1; }
  100% { transform: translateX(0); opacity: 1; }
}
@keyframes edge-enter-right {
  0% { transform: translateX(16vw); opacity: 0; }
  60% { opacity: 1; }
  100% { transform: translateX(0); opacity: 1; }
}

.ornament-wrap.edge-left { animation: edge-enter-left var(--edgeDur, 1400ms) ease-out var(--enterDelay, 0ms) both; }
.ornament-wrap.edge-right { animation: edge-enter-right var(--edgeDur, 1400ms) ease-out var(--enterDelay, 0ms) both; }

/* Floating/rotation for onion */
@keyframes onion-float {
  0% { transform: translate3d(0, 0, 0) rotate(0deg); }
  25% { transform: translate3d(4px, -6px, 0) rotate(1.5deg); }
  50% { transform: translate3d(0, -8px, 0) rotate(-1deg); }
  75% { transform: translate3d(-4px, -3px, 0) rotate(1.5deg); }
  100% { transform: translate3d(0, 0, 0) rotate(0deg); }
}
.animate-onion { animation: onion-float var(--dur, 18s) linear infinite; }

/* Maintain existing ornament classes */
@keyframes travelRightCenter {
  0% { opacity: 0; transform: translate3d(80px,-10px,0); }
  100% { opacity: 1; transform: translate3d(0,0,0); }
}

@keyframes travelLeftCenter {
  0% { opacity: 0; transform: translate3d(-80px,-10px,0); }
  100% { opacity: 1; transform: translate3d(0,0,0); }
}

@keyframes crab-float {
  0%   { transform: translate3d(0, 0, 0) rotate(0deg); }
  25%  { transform: translate3d(6px, -4px, 0) rotate(1.5deg); }
  50%  { transform: translate3d(0, -6px, 0) rotate(-1.5deg); }
  75%  { transform: translate3d(-6px, -3px, 0) rotate(1.5deg); }
  100%  { transform: translate3d(0, 0, 0) rotate(0deg); }
}
.animate-crab { animation: crab-float var(--dur, 18s) ease-in-out infinite; }

@keyframes tagine-bounce {
  0%   { transform: translate3d(0, 0, 0) scale(1); }
  50%  { transform: translate3d(0, -6px, 0) scale(1.02); }
  100% { transform: translate3d(0, 0, 0) scale(1); }
}
.animate-tagine { animation: tagine-bounce var(--dur, 18s) ease-in-out infinite; }